% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bootstrap_functions.R
\name{bootstrap_uncertainty_with_ci}
\alias{bootstrap_uncertainty_with_ci}
\title{Compute Bootstrap Uncertainty and Confidence Intervals}
\usage{
bootstrap_uncertainty_with_ci(
  original_samples,
  n_bootstrap = 1000,
  ci_level = 0.95
)
}
\arguments{
\item{original_samples}{A 3D array of image samples.}

\item{n_bootstrap}{The number of bootstrap samples to generate.}

\item{ci_level}{The confidence level for the intervals.}
}
\value{
A list containing the standard error matrix, lower confidence interval matrix, 
and upper confidence interval matrix.
}
\description{
This function calculates the standard error and confidence intervals for each pixel in a 3D 
array of image samples using the bootstrap method.
}
\examples{
\dontrun{
image_dim <- 10
original_samples <- array(rnorm(1000 * image_dim^2, mean = 0.5, sd = 0.2), 
dim = c(1000, image_dim, image_dim))
result <- bootstrap_uncertainty_with_ci(original_samples, n_bootstrap = 500, ci_level = 0.95)
se_matrix <- result$standard_error
lower_matrix <- result$ci_lower
upper_matrix <- result$ci_upper
cat("置信区间 (95\%) for pixel (1, 1): [", lower_matrix[1, 1], ", ", upper_matrix[1, 1], "]\n")
se_df <- melt(se_matrix)
lower_df <- melt(lower_matrix)
upper_df <- melt(upper_matrix)
ggplot(melt(se_matrix), aes(x = Var1, y = Var2, fill = value)) +
geom_tile() +
  scale_fill_gradient(low = "blue", high = "red") +
  labs(title = "Standard Error Map", x = "X", y = "Y") +
  theme_minimal()
ci_length <- upper_matrix - lower_matrix
ggplot(melt(ci_length), aes(x = Var1, y = Var2, fill = value)) +
  geom_tile() +
  scale_fill_gradient(low = "blue", high = "red") +
  labs(title = "Confidence Interval Length", x = "X", y = "Y") +
  theme_minimal()
}
}
